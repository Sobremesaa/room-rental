{"remainingRequest":"C:\\Users\\Administrator\\Desktop\\room-rental\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Administrator\\Desktop\\room-rental\\src\\components\\HelloWorld.vue?vue&type=style&index=1&lang=css&","dependencies":[{"path":"C:\\Users\\Administrator\\Desktop\\room-rental\\src\\components\\HelloWorld.vue","mtime":1633868810949},{"path":"C:\\Users\\Administrator\\Desktop\\room-rental\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\room-rental\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\room-rental\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\room-rental\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\room-rental\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKLmNvbnRhaW5lciB7CiAgcG9zaXRpb246IHJlbGF0aXZlOwogIHotaW5kZXg6IDA7Cn0K"},{"version":3,"sources":["HelloWorld.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2KA;AACA;AACA;AACA","file":"HelloWorld.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <section class=\"section\">\n    <spin :visible=\"spinVisible\">\n      <div class=\"container\">\n        <div class=\"user signinBx\">\n          <div class=\"imgBx\">\n            <img src=\"../../assets/image/login_register/library.jpg\" />\n          </div>\n          <div class=\"formBx\">\n            <form>\n              <h2>Sign In</h2>\n              <a-input\n                type=\"text\"\n                name=\"\"\n                placeholder=\"Username\"\n                v-model=\"login_name\"\n                auto-focus\n              />\n              <a-input-password\n                type=\"password\"\n                placeholder=\"password\"\n                v-model=\"login_password\"\n              />\n              <a href=\"#\" @click=\"login\">login</a>\n              <h5 :tip_login=\"tip_login\">{{ tip_login }}</h5>\n              <p class=\"register\">\n                Don't have an account?<a href=\"#\" @click=\"toggleForm\"\n                  >Sign Up</a\n                >\n              </p>\n            </form>\n          </div>\n        </div>\n        <div class=\"user signupBx\">\n          <div class=\"formBx\">\n            <form>\n              <h2>create your account</h2>\n              <a-input\n                type=\"text\"\n                name=\"\"\n                placeholder=\"create your username\"\n                v-model=\"register_name\"\n              />\n              <a-input-password\n                name=\"\"\n                placeholder=\"set your password\"\n                v-model=\"register_password\"\n              />\n              <a-input\n                type=\"text\"\n                name=\"\"\n                placeholder=\"phone\"\n                v-model=\"register_phone\"\n              />\n              <a href=\"#\" @click=\"register\">sign up</a>\n              <h5 :tip_register=\"tip_register\" style=\"color: red\">\n                {{ tip_register }}\n              </h5>\n              <p class=\"signup\">\n                Already have an account?<a href=\"#\" @click=\"toggleForm\"\n                  >LogIn</a\n                >\n              </p>\n            </form>\n          </div>\n          <div class=\"imgBx\">\n            <img src=\"../../assets/image/login_register/library.jpg\" />\n          </div>\n        </div>\n      </div>\n    </spin>\n  </section>\n</template>\n\n<style scoped>\n@import \"../../assets/css/register-style.css\";\n</style>\n\n<script>\nimport { request } from \"../../api/index\";\nimport spin from \"@/components/spin/spin.vue\";\n\nexport default {\n  name: \"login\",\n  components: {\n    spin,\n  },\n  data() {\n    return {\n      spinVisible: false,\n      login_name: \"\",\n      login_password: \"\",\n      register_name: \"\",\n      register_password: \"\",\n      register_phone: \"\",\n      tip_login: \"\",\n      tip_register: \"\",\n    };\n  },\n  methods: {\n    toggleForm() {\n      var container = document.querySelector(\".container\");\n      container.classList.toggle(\"active\");\n    },\n    login() {\n      this.spinVisible = true;\n      //发送请求\n      request({\n        url: \"/admin/login\",\n        method: \"post\",\n        data: {\n          _id: this.login_name,\n          password: this.login_password,\n        },\n      })\n        .then((res) => {\n          if (res.data.status) {\n            // 为什么还能返回\n            if (res.data.tip === \"1\") {\n              this.spinVisible = false;\n              this.$router.replace(\"/manager_home\");\n            } else {\n              this.$router.replace(\"/Home\");\n              this.spinVisible = false;\n            }\n            //存储登录信息\n            this.$store.commit(\"store_login_message\", [\n              this.login_name,\n              this.login_password,\n              res.data.phone,\n            ]);\n          } else {\n            this.spinVisible = false;\n            this.tip_login = res.data.message;\n          }\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n    },\n    register() {\n      if (this.register_name && this.register_name && this.register_phone) {\n        request({\n          url: \"admin/register\",\n          method: \"post\",\n          data: {\n            _id: this.register_name,\n            password: this.register_password,\n            phone: this.register_phone,\n          },\n        })\n          .then((res) => {\n            if (res.data.message == \"success\") {\n              this.toggleForm();\n              this.$message.info(\"success\");\n            } else {\n              this.$message.info(res.data.message);\n            }\n          })\n          .catch((err) => {\n            console.log(err);\n          });\n      } else {\n        this.$message.info(\"输入信息不完整\");\n      }\n    },\n  },\n};\n</script>\n\n<style>\n.container {\n  position: relative;\n  z-index: 0;\n}\n</style>\n"]}]}