{"remainingRequest":"D:\\university\\other\\jikeyuan\\room-rental\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\university\\other\\jikeyuan\\room-rental\\src\\components\\RoomStatus.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\university\\other\\jikeyuan\\room-rental\\src\\components\\RoomStatus.vue","mtime":1634215347245},{"path":"D:\\university\\other\\jikeyuan\\room-rental\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1634043112659},{"path":"D:\\university\\other\\jikeyuan\\room-rental\\node_modules\\babel-loader\\lib\\index.js","mtime":1634043112659},{"path":"D:\\university\\other\\jikeyuan\\room-rental\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1634043112659},{"path":"D:\\university\\other\\jikeyuan\\room-rental\\node_modules\\vue-loader\\lib\\index.js","mtime":1634043112659}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQoNCmNvbnN0IGNvbHVtbnMgPSBbDQogIHsNCiAgICB0aXRsZTogJ+aVmeWupCcsDQogICAgZGF0YUluZGV4OiAncm9vbScsDQogICAgd2lkdGg6ICcyNSUnLA0KICB9LA0KICB7DQogICAgdGl0bGU6ICc4OjAwLTEwOjAwJywNCiAgICBkYXRhSW5kZXg6ICd0aW1lMScsDQogICAgd2lkdGg6ICcxNSUnLA0KICB9LA0KICB7DQogICAgdGl0bGU6ICcxMDowMC0xMjowMCcsDQogICAgZGF0YUluZGV4OiAndGltZTInLA0KICAgIHdpZHRoOiAnMTUlJywNCiAgfSwNCiAgew0KICAgIHRpdGxlOiAnMTQ6MzAtMTY6MzAnLA0KICAgIGRhdGFJbmRleDogJ3RpbWUzJywNCiAgICB3aWR0aDogJzE1JScsDQogIH0sDQogIHsNCiAgICB0aXRsZTogJzE2OjMwLTE4OjMwJywNCiAgICBkYXRhSW5kZXg6ICd0aW1lNCcsDQogICAgd2lkdGg6ICcxNSUnLA0KICB9LA0KICB7DQogICAgdGl0bGU6ICcxOToyMC0yMToxMCcsDQogICAgZGF0YUluZGV4OiAndGltZTUnLA0KICAgIHdpZHRoOiAnMTUlJywNCiAgfSwNCl07DQoNCmNvbnN0IGRhdGEgPSBbXTsNCmZvciAobGV0IGkgPSAwOyBpIDwgNTA7IGkrKykgew0KICBkYXRhLnB1c2goew0KICAgIGtleTogaS50b1N0cmluZygpLA0KICAgIHJvb206IGDmlofmtKXmpbwzNiAke2l9YCwNCiAgICBzdGF0dXM6W2ksaSsxLGkrMixpKzMsaSs0XQ0KICB9KTsNCn0NCg0KZXhwb3J0IGRlZmF1bHQgew0KICAgIG5hbWU6ICdSb29tU3RhdHVzJywNCiAgICBkYXRhKCkgew0KICAgICAgICByZXR1cm4gew0KICAgICAgICAgICAgZGF0YSwNCiAgICAgICAgICAgIGNvbHVtbnMsDQogICAgICAgICAgICBlZGl0aW5nS2V5OiAnJywNCiAgICAgICAgICAgIGRhdGVzOiBbXSwNCiAgICAgICAgICAgIGRhdGVTZWxlY3RlZDp7fSwNCiAgICAgICAgfTsNCiAgICB9LA0KDQogICAgbWV0aG9kczogew0KICAgICAgZGF5VHJhbnNmb3JtKGRheSkgew0KICAgICAgICBsZXQgd2VlayA9ICLlkajkuIAiOw0KICAgICAgICBzd2l0Y2goZGF5KSB7DQogICAgICAgICAgY2FzZSAxIDogd2VlayA9ICLlkajkuIAiO2JyZWFrOw0KICAgICAgICAgIGNhc2UgMiA6IHdlZWsgPSAi5ZGo5LqMIjticmVhazsNCiAgICAgICAgICBjYXNlIDMgOiB3ZWVrID0gIuWRqOS4iSI7YnJlYWs7DQogICAgICAgICAgY2FzZSA0IDogd2VlayA9ICLlkajlm5siO2JyZWFrOw0KICAgICAgICAgIGNhc2UgNSA6IHdlZWsgPSAi5ZGo5LqUIjticmVhazsNCiAgICAgICAgICBjYXNlIDYgOiB3ZWVrID0gIuWRqOWFrSI7YnJlYWs7DQogICAgICAgICAgY2FzZSA3IDogd2VlayA9ICLlkajlpKkiO2JyZWFrOw0KICAgICAgICB9DQogICAgICAgIHJldHVybiB3ZWVrOw0KICAgICAgfSwNCg0KICAgICAgZ2V0RGF0ZSgpIHsNCiAgICAgICAgbGV0IGRhdGUgPSBuZXcgRGF0ZSgpOw0KICAgICAgICB0aGlzLmRhdGVzLnB1c2goW2RhdGUuZ2V0RnVsbFllYXIoKSxkYXRlLmdldE1vbnRoKCkrMSxkYXRlLmdldERhdGUoKSx0aGlzLmRheVRyYW5zZm9ybShkYXRlLmdldERheSgpKV0pOw0KICAgICAgICBmb3IobGV0IGkgPSAwOyBpIDwgNjsgaSArKykgew0KICAgICAgICAgIGRhdGUuc2V0VGltZShkYXRlLmdldFRpbWUoKSArIDM2MDAgKiAyNCAqIDEwMDApOw0KICAgICAgICAgIHRoaXMuZGF0ZXMucHVzaChbZGF0ZS5nZXRGdWxsWWVhcigpLGRhdGUuZ2V0TW9udGgoKSsxLGRhdGUuZ2V0RGF0ZSgpLHRoaXMuZGF5VHJhbnNmb3JtKGRhdGUuZ2V0RGF5KCkpXSk7DQogICAgICAgIH0NCiAgICAgICAgdGhpcy5kYXRlU2VsZWN0ZWQgPSB0aGlzLmRhdGVzWzBdOw0KICAgICAgfSwNCg0KICAgICAgZGF0ZVNlbGVjdCgpIHsNCiAgICAgICAgdmFyIHZhbHVlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImRhdGUtc2VsZWN0Iikuc2VsZWN0ZWRJbmRleDsNCiAgICAgICAgdGhpcy5kYXRlU2VsZWN0ZWQgPSB0aGlzLmRhdGVzW3ZhbHVlXTsNCiAgICAgICAgY29uc29sZS5sb2coIumAieaLqSIsIHRoaXMuZGF0ZXNbdmFsdWVdKTsNCiAgICAgIH0sDQoNCiAgICAgIHN0YXR1c1NlbGVjdGVkKGtleSx2YWx1ZSkgew0KICAgICAgICB0aGlzLiRlbWl0KCJ0ZWxsRmF0aGVyIiwgdmFsdWUpOw0KICAgICAgfSwNCiAgfSwNCg0KICBtb3VudGVkKCkgew0KICAgIHRoaXMuZ2V0RGF0ZSgpOw0KICB9DQogIA0KfQ0KDQo="},{"version":3,"sources":["RoomStatus.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA","file":"RoomStatus.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n  <div>\r\n    <div class=\"room-status\">\r\n      <div class=\"status-header\">\r\n        <div>\r\n          <select id=\"date-select\" @change=dateSelect()>\r\n            <option v-for=\"(date,index) in dates\"\r\n              :key=\"index\"\r\n              :value=\"date\"\r\n            >\r\n              {{ date[0] + \"/\" + date[1] + \"/\" + date[2] + \"/\" + date[3] }}\r\n            </option>\r\n          </select>\r\n        </div>\r\n        <div style=\"float: right;\">\r\n          <div>\r\n            <div class=\"icon free\" @click=\"statusSelected(roomTime.room)\"></div>\r\n            <span class=\"text-span\">空闲可租</span>\r\n          </div>\r\n          <div>\r\n            <div class=\"icon rented\" @click=\"statusSelected(roomTime.room)\"></div>\r\n            <span class=\"text-span\">已被租</span>\r\n          </div>\r\n          <div>\r\n            <div class=\"icon forbid\" @click=\"statusSelected(roomTime.room)\"></div>\r\n            <span class=\"text-span\">未开放</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div style=\"height: 500px; overflow-y: auto; margin-top: 10px; background-color: #f2fbfe;\">\r\n        <table border=\"1\" class=\"status-table\" align=\"center\">\r\n          <tr>\r\n            <td class=\"font-center titfont\" rowspan=\"2\">教室</td>\r\n            <td colspan=\"5\" class=\"font-center titfont\">{{ dateSelected[3] }}</td>\r\n          </tr>\r\n          <tr>\r\n            <td width=\"13%\" class=\"font-center\"> 8:00- 9:50</td>\r\n            <td width=\"13%\" class=\"font-center\">10:10-12:00</td>\r\n            <td width=\"13%\" class=\"font-center\">14:30-16:20</td>\r\n            <td width=\"13%\" class=\"font-center\">16:40-18:30</td>\r\n            <td width=\"13%\" class=\"font-center\">19:20-21:10</td>\r\n          </tr>\r\n        <tbody>\r\n          <tr v-for=\"roomTime in data\"\r\n            :key=\"roomTime.room\"\r\n          >\r\n            <td>{{ roomTime.room }}</td>\r\n            <td v-for=\"(roomStatus,index) in roomTime.status\"\r\n              :key=\"index\">\r\n              <div v-if=\"roomStatus % 3 == 1\" class=\"icon free\" @click=\"statusSelected(index + 1, roomTime.room)\"></div>\r\n              <div v-if=\"roomStatus % 3 == 2\" class=\"icon forbid\" @click=\"statusSelected(index + 1, roomTime.room)\"></div>\r\n              <div v-if=\"roomStatus % 3 == 0\" class=\"icon rented\" @click=\"statusSelected(index + 1, roomTime.room)\"></div>\r\n            </td>\r\n            </tr>\r\n        </tbody>\r\n        </table>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n\r\nconst columns = [\r\n  {\r\n    title: '教室',\r\n    dataIndex: 'room',\r\n    width: '25%',\r\n  },\r\n  {\r\n    title: '8:00-10:00',\r\n    dataIndex: 'time1',\r\n    width: '15%',\r\n  },\r\n  {\r\n    title: '10:00-12:00',\r\n    dataIndex: 'time2',\r\n    width: '15%',\r\n  },\r\n  {\r\n    title: '14:30-16:30',\r\n    dataIndex: 'time3',\r\n    width: '15%',\r\n  },\r\n  {\r\n    title: '16:30-18:30',\r\n    dataIndex: 'time4',\r\n    width: '15%',\r\n  },\r\n  {\r\n    title: '19:20-21:10',\r\n    dataIndex: 'time5',\r\n    width: '15%',\r\n  },\r\n];\r\n\r\nconst data = [];\r\nfor (let i = 0; i < 50; i++) {\r\n  data.push({\r\n    key: i.toString(),\r\n    room: `文津楼36 ${i}`,\r\n    status:[i,i+1,i+2,i+3,i+4]\r\n  });\r\n}\r\n\r\nexport default {\r\n    name: 'RoomStatus',\r\n    data() {\r\n        return {\r\n            data,\r\n            columns,\r\n            editingKey: '',\r\n            dates: [],\r\n            dateSelected:{},\r\n        };\r\n    },\r\n\r\n    methods: {\r\n      dayTransform(day) {\r\n        let week = \"周一\";\r\n        switch(day) {\r\n          case 1 : week = \"周一\";break;\r\n          case 2 : week = \"周二\";break;\r\n          case 3 : week = \"周三\";break;\r\n          case 4 : week = \"周四\";break;\r\n          case 5 : week = \"周五\";break;\r\n          case 6 : week = \"周六\";break;\r\n          case 7 : week = \"周天\";break;\r\n        }\r\n        return week;\r\n      },\r\n\r\n      getDate() {\r\n        let date = new Date();\r\n        this.dates.push([date.getFullYear(),date.getMonth()+1,date.getDate(),this.dayTransform(date.getDay())]);\r\n        for(let i = 0; i < 6; i ++) {\r\n          date.setTime(date.getTime() + 3600 * 24 * 1000);\r\n          this.dates.push([date.getFullYear(),date.getMonth()+1,date.getDate(),this.dayTransform(date.getDay())]);\r\n        }\r\n        this.dateSelected = this.dates[0];\r\n      },\r\n\r\n      dateSelect() {\r\n        var value = document.getElementById(\"date-select\").selectedIndex;\r\n        this.dateSelected = this.dates[value];\r\n        console.log(\"选择\", this.dates[value]);\r\n      },\r\n\r\n      statusSelected(key,value) {\r\n        this.$emit(\"tellFather\", value);\r\n      },\r\n  },\r\n\r\n  mounted() {\r\n    this.getDate();\r\n  }\r\n  \r\n}\r\n\r\n</script>\r\n\r\n<style>\r\n\r\n.status-header div {\r\n  display: inline-block;\r\n}\r\n\r\n.text-span {\r\n  font-size: 13px;\r\n  margin-left: 5px;\r\n  padding-bottom: 10px;\r\n  margin-bottom: 10px;\r\n}\r\n\r\n.status-table {\r\n  width: \"100%\";\r\n  text-align: center;\r\n  background-color: #ffffff;\r\n  height: 500px;\r\n}\r\n\r\n.status-table tr {\r\n  border: #777777\r\n}\r\n\r\n.font-center { text-align:center}\r\n\r\n.icon {\r\n  width:15px; \r\n  height: 15px; \r\n  margin-left: 25px;\r\n}\r\n\r\n.icon:hover {\r\n  cursor: pointer;\r\n}\r\n\r\n.free {\r\n  background-color: #66ee66;\r\n}\r\n\r\n.forbid {\r\n  background-color: #f15555;\r\n}\r\n\r\n.rented {\r\n  background-color: #e1e1e8;\r\n}\r\n\r\n.titfont {\r\n  font-family: STheiti,微软雅黑,宋体,Arial,Tahoma,sans-serif,serif;\r\n\tfont-size: 14px;\r\n\tfont-weight: bold;\r\n\tbackground: no-repeat 15px center;\r\n\tbackground-color:#f7f7f7;\r\n}\r\n\r\n.room-status {\r\n    width: 480px;\r\n    height: 550px;\r\n    margin-top: 10px;\r\n    margin-left: 20px;\r\n    margin-right: 20px;\r\n}\r\n\r\n.editable-row-operations a {\r\n  margin-right: 4px;\r\n}\r\n\r\n.ant-table {\r\n  font-size: 8px;\r\n}\r\n\r\n</style>"]}]}